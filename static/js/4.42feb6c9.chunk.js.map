{"version":3,"sources":["res/startConversation.svg","res/sound/doneforyou.mp3","helpers/ChatSocketServer.js","res/user.svg","res/setting.svg","res/chat-action.svg","res/message.svg","res/users.svg","res/group.svg","res/no-wifi.svg","res/icon.js","components/chatlist/ChatList.js","components/scroll-comp/ScrollContainer.js","helpers/SoundHelper.js","pages/chat/ChatRoom.js","helpers/dateHelper.js","components/error/index.js","pages/home/Home.js","res/select_a_user.svg"],"names":["module","exports","events","require","socket","eventEmitter","EventEmitter","userId","this","io","connect","query","error","Error","emit","message","on","data","toUserId","console","log","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","excluded","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","id","_ref","svgRef","title","props","enableBackground","viewBox","xmlSpace","ref","forwardRef","style","cx","cy","r","_ref5","transform","className","cog","plane","chat","group","contact","noWifi","emoji","xmlns","times","search","moon","sun","leftCaret","version","points","ChatListItem","user","isSelected","setSelectedUser","isTyping","useContext","ThemeContext","MyThemeContext","theme","state","onClick","online","imageUrl","src","alt","color","textColor","username","ChatList","searchKey","e","setState","searchTerm","value","renderChatList","chatListResponse","chatListUsers","singleUser","filter","_id","chatList","userDisconnected","loggedOutUser","findIndex","obj","_renderNavbarAside","toggleTheme","background","backgroundColor","fill","logoSvg","_renderAuthBox","contrastColorFade","selectedUserId","ChatSocketServer","getChatList","removeListener","updateSelectedUser","isMobileViewPort","toggleValue","Consumer","sidebarRef","contrastColorFall","boxShadow","trim","type","placeholder","onChange","toLowerCase","includes","map","index","typing","loading","Component","auth","token","ScrollContainer","addScrollEvent","scrollBoxRef","addEventListener","_","throttle","handleScrolling","document","a","parseInt","page","scrollTop","offsetPercent","loadingOffset","onScrollPageRequest","warn","prevState","currentHeight","contentBoxRef","getBoundingClientRect","height","scrollTo","boxHeight","loadingRef","React","createRef","paddingTop","onScrollBoxMount","el","top","contentClassName","children","SoundHelper","asset","volume","validateUrl","play","Audio","then","catch","ChatRoom","receiveSocketMessages","socketResponse","selectedUser","fromUserId","messages","scrollMessageContainer","notifySound","getMessages","ChatHttpServer","limit","result","alert","currentPage","totalPages","handleKeyPress","sendMessage","typingMessage","messageInput","undefined","sendAndUpdateMessages","text","scrollBox","contextBox","messagesBox","messageContentBox","handleScrollPageRequest","handleScrollPageResult","renderMessages","dayInConcern","Date","date","d1","d2","day","isNewDay","getFullYear","getMonth","getDate","getTime","Fragment","toDateString","isAuth","renderChatUI","role","renderStartChatUI","onScrollPageResponse","width","onKeyPress","renderNoUserSelectedUI","noUserSelected","startConversation","soundFile","messageLoading","prevProps","receiveMessage","setTimeout","scrollHeight","nextProps","ChatBox","ReactEmoji","emojify","ErrorFullPage","err","onAction","templateImage","textColorContrast","Home","createSocketConnection","receiveTypingMessage","addTypingUser","isLoading","handleViewPortResize","window","innerWidth","windowWidth","removeEventListener","handleCloseSidebar","switchToggleValue","newValue","sidebarElem","current","contains","clearTimeout","newTyping","typingTimeout","AuthHelper","getAuthValue","errorAction","checkUserToken","responsiveKit","switchToggle","dispatch","checkToken"],"mappings":"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","file":"static/js/4.42feb6c9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/startConversation.d2c64057.svg\";","module.exports = __webpack_public_path__ + \"static/media/doneforyou.8a8b917c.mp3\";","import io from 'socket.io-client'\r\nconst events = require('events');\r\n\r\nclass ChatSocketServer {\r\n    socket = null;\r\n    eventEmitter = new events.EventEmitter();\r\n\r\n    // connecting to Socket server\r\n    createSocketConnection(userId) {\r\n        // io.connect('http://localhost:4001', { query: `userId=${userId}` })\r\n        const url = 'https://my-chat-app-server-0707.herokuapp.com'\r\n        try {\r\n            this.socket = io.connect(url, { query: `userId=${userId}` })\r\n        } catch(error) {\r\n            throw new Error('Something went wrong. We can\\'t connect to server')\r\n        }\r\n        return true;\r\n    }\r\n\r\n    getChatList(userId) {\r\n        this.socket.emit('chat-list', { userId }, ({ error, message }) => {\r\n            if (error) {\r\n                this.eventEmitter.emit('chat-list-response', { error, message });\r\n            }\r\n        });\r\n        this.socket.on('chat-list-response', (data) => {\r\n            this.eventEmitter.emit('chat-list-response', data);\r\n        })\r\n    }\r\n\r\n    sendMessage(message) {\r\n        this.socket.emit('add-message', message)\r\n    }\r\n\r\n    receiveMessage() {\r\n        this.socket.on('add-message-response', (data) => {\r\n            this.eventEmitter.emit('add-message-response', data);\r\n        })\r\n    }\r\n\r\n    typingMessage(toUserId) {\r\n        this.socket.emit('typing-message', { toUserId }, ({ error, message }) => {\r\n            console.log(\"error\", message);\r\n        });\r\n    }\r\n\r\n    receiveTypingMessage() {\r\n        this.socket.on('typing-message-response', (data) => {\r\n            this.eventEmitter.emit('typing-message-response', data);\r\n        })\r\n    }\r\n}\r\n\r\nexport default new ChatSocketServer();","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"about\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16,16A7,7,0,1,0,9,9,7,7,0,0,0,16,16ZM16,4a5,5,0,1,1-5,5A5,5,0,0,1,16,4Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17,18H15A11,11,0,0,0,4,29a1,1,0,0,0,1,1H27a1,1,0,0,0,1-1A11,11,0,0,0,17,18ZM6.06,28A9,9,0,0,1,15,20h2a9,9,0,0,1,8.94,8Z\"\n}));\n\nvar SvgUser = function SvgUser(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUser, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/user.b0054a50.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.526,18.036L27,17.732c-0.626-0.361-1-1.009-1-1.732s0.374-1.371,1-1.732l0.526-0.304  c1.436-0.83,1.927-2.662,1.098-4.098l-1-1.732c-0.827-1.433-2.666-1.925-4.098-1.098L23,7.339c-0.626,0.362-1.375,0.362-2,0  c-0.626-0.362-1-1.009-1-1.732V5c0-1.654-1.346-3-3-3h-2c-1.654,0-3,1.346-3,3v0.608c0,0.723-0.374,1.37-1,1.732  c-0.626,0.361-1.374,0.362-2,0L8.474,7.036C7.042,6.209,5.203,6.701,4.375,8.134l-1,1.732c-0.829,1.436-0.338,3.269,1.098,4.098  L5,14.268C5.626,14.629,6,15.277,6,16s-0.374,1.371-1,1.732l-0.526,0.304c-1.436,0.829-1.927,2.662-1.098,4.098l1,1.732  c0.828,1.433,2.667,1.925,4.098,1.098L9,24.661c0.626-0.363,1.374-0.361,2,0c0.626,0.362,1,1.009,1,1.732V27c0,1.654,1.346,3,3,3h2  c1.654,0,3-1.346,3-3v-0.608c0-0.723,0.374-1.37,1-1.732c0.625-0.361,1.374-0.362,2,0l0.526,0.304  c1.432,0.826,3.271,0.334,4.098-1.098l1-1.732C29.453,20.698,28.962,18.865,27.526,18.036z M16,21c-2.757,0-5-2.243-5-5s2.243-5,5-5  s5,2.243,5,5S18.757,21,16,21z\",\n  id: \"XMLID_273_\"\n});\n\nvar SvgSetting = function SvgSetting(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 32 32\",\n    id: \"Glyph\",\n    viewBox: \"0 0 32 32\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSetting, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/setting.2821dc9c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  \"data-name\": \"telegram social media network chat\",\n  id: \"telegram_social_media_network_chat\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M28.59,4.29a2.23,2.23,0,0,0-2.27-.36L3.41,13.1a1.83,1.83,0,0,0,0,3.38l1.48.61a1,1,0,0,0,1.31-.53,1,1,0,0,0-.54-1.31L4.56,14.8l22.51-9a.22.22,0,0,1,.23,0,.24.24,0,0,1,.08.23L23.27,25.21a.4.4,0,0,1-.26.3.39.39,0,0,1-.39-.06l-8-6.24,7.83-7.91a1,1,0,0,0-1.22-1.56L9.75,16.54a1,1,0,1,0,1,1.72l4.83-2.85L13.23,17.8a2,2,0,0,0,.2,3.08l8,6.15a2.4,2.4,0,0,0,1.47.5,2.47,2.47,0,0,0,.83-.15,2.37,2.37,0,0,0,1.52-1.75L29.33,6.47A2.23,2.23,0,0,0,28.59,4.29Z\"\n}));\n\nvar SvgChatAction = function SvgChatAction(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChatAction, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/chat-action.2bdd3226.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"info\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icons\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,1H4C1.8,1,0,2.8,0,5v10c0,2.2,1.8,4,4,4v3c0,0.9,1.1,1.3,1.7,0.7L9.4,19H20c2.2,0,4-1.8,4-4V5   C24,2.8,22.2,1,20,1z M14,13H8c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1h6c0.6,0,1,0.4,1,1C15,12.6,14.6,13,14,13z M16,9H8   C7.4,9,7,8.6,7,8c0-0.6,0.4-1,1-1h8c0.6,0,1,0.4,1,1C17,8.6,16.6,9,16,9z\",\n  id: \"message\"\n}));\n\nvar SvgMessage = function SvgMessage(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      enableBackground: \"new 0 0 24 24\"\n    },\n    viewBox: \"0 0 24 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMessage, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/message.ac322131.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5,14c-1.5,0-2.7,0.4-3.6,0.9c1.4,1.2,2,2.6,2.1,2.7l0.1,0.2V20h8v-2C23,18,21.4,14,16.5,14z\"\n})), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16.5,\n  cy: 8.5,\n  r: 3.5\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4,8.5C4,6.6,5.6,5,7.5,5S11,6.6,11,8.5c0,1.9-1.6,3.5-3.5,3.5S4,10.4,4,8.5z M7.5,14C2.6,14,1,18,1,18v2h13v-2   C14,18,12.4,14,7.5,14z\"\n}));\n\nvar SvgUsers = function SvgUsers(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 24 24\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 24 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUsers, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/users.e777cfa5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9,9c0-1.7,1.3-3,3-3s3,1.3,3,3c0,1.7-1.3,3-3,3S9,10.7,9,9z M12,14c-4.6,0-6,3.3-6,3.3V19h12v-1.7C18,17.3,16.6,14,12,14z   \"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 18.5,\n  cy: 8.5,\n  r: 2.5\n})), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.5,13c-1.2,0-2.1,0.3-2.8,0.8c2.3,1.1,3.2,3,3.2,3.2l0,0.1H23v-1.3C23,15.7,21.9,13,18.5,13z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 18.5,\n  cy: 8.5,\n  r: 2.5\n})), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18.5,13c-1.2,0-2.1,0.3-2.8,0.8c2.3,1.1,3.2,3,3.2,3.2l0,0.1H23v-1.3C23,15.7,21.9,13,18.5,13z\"\n})));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 5.5,\n  cy: 8.5,\n  r: 2.5\n})), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.5,13c1.2,0,2.1,0.3,2.8,0.8c-2.3,1.1-3.2,3-3.2,3.2l0,0.1H1v-1.3C1,15.7,2.1,13,5.5,13z\"\n})));\n\nvar SvgGroup = function SvgGroup(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 24 24\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 24 24\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGroup, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/group.45377a99.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\r\\n      .cls-1, .cls-5 {\\r\\n        fill: none;\\r\\n      }\\r\\n\\r\\n      .cls-1, .cls-2 {\\r\\n        stroke: #707070;\\r\\n      }\\r\\n\\r\\n      .cls-1 {\\r\\n        stroke-linecap: round;\\r\\n        stroke-width: 10px;\\r\\n      }\\r\\n\\r\\n      .cls-2 {\\r\\n        fill: #707070;\\r\\n      }\\r\\n\\r\\n      .cls-3 {\\r\\n        fill: red;\\r\\n        stroke-linecap: square;\\r\\n        stroke-linejoin: round;\\r\\n      }\\r\\n\\r\\n      .cls-4, .cls-6 {\\r\\n        stroke: none;\\r\\n      }\\r\\n\\r\\n      .cls-6 {\\r\\n        fill: #fff;\\r\\n      }\\r\\n    \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_5\",\n  \"data-name\": \"Group 5\",\n  transform: \"translate(-875.983 -144.876)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group_2\",\n  \"data-name\": \"Group 2\",\n  transform: \"translate(-24 -18)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_4\",\n  \"data-name\": \"Path 4\",\n  className: \"cls-1\",\n  d: \"M1068.673,432.1s27.006-25.9,62.831,0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_5\",\n  \"data-name\": \"Path 5\",\n  className: \"cls-1\",\n  d: \"M1025.684,381.945s67.24-61.177,148.258,0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_6\",\n  \"data-name\": \"Path 6\",\n  className: \"cls-1\",\n  d: \"M984,331.239s105.066-98.1,232.38,0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_7\",\n  \"data-name\": \"Path 7\",\n  className: \"cls-1\",\n  d: \"M942.461,284.943s148.81-130.622,313.6,0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"Path_8\",\n  \"data-name\": \"Path 8\",\n  className: \"cls-1\",\n  d: \"M904.983,239.749s179.593-161.654,388.952,0\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Ellipse_14\",\n  \"data-name\": \"Ellipse 14\",\n  className: \"cls-2\",\n  transform: \"translate(1095 466)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-4\",\n  cx: 5,\n  cy: 5,\n  r: 5\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"cls-5\",\n  cx: 5,\n  cy: 5,\n  r: 4.5\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Union_1\",\n  \"data-name\": \"Union 1\",\n  className: \"cls-3\",\n  transform: \"translate(1022.109 193.858)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-4\",\n  d: \"M 8.750247955322266 107.1421356201172 C 6.184502601623535 107.1421356201172 3.771993637084961 106.1431579589844 1.957157254219055 104.329231262207 C -1.789388179779053 100.5807952880859 -1.789006352424622 94.48566436767578 1.956248164176941 90.74039459228516 L 39.55434036254883 53.14230346679688 L 1.956266403198242 15.54423046112061 C 0.1414481699466705 13.72850227355957 -0.8575154542922974 11.31601142883301 -0.8575154542922974 8.750247955322266 C -0.8575154542922974 6.184520721435547 0.1414481699466705 3.772011756896973 1.955357313156128 1.957175493240356 C 3.772011756896973 0.1414481699466705 6.184520721435547 -0.8575154542922974 8.750247955322266 -0.8575154542922974 C 11.31601142883301 -0.8575154542922974 13.72850227355957 0.1414481699466705 15.54333877563477 1.95537543296814 L 53.14230346679688 39.55434036254883 L 90.58197784423828 2.11466646194458 C 92.39691925048828 0.2997209131717682 94.80984497070313 -0.6997882127761841 97.37628173828125 -0.6997882127761841 C 99.94321441650391 -0.6997882127761841 102.3562088012695 0.3000481724739075 104.1707916259766 2.115539073944092 C 107.9152145385742 5.859957218170166 107.9156112670898 11.95510292053223 104.1707916259766 15.70175743103027 L 66.73026275634766 53.14230346679688 L 104.169921875 90.58197784423828 C 105.9847412109375 92.39768218994141 106.9837188720703 94.81019592285156 106.9837188720703 97.37595367431641 C 106.9837188720703 99.94171905517578 105.9847412109375 102.3542327880859 104.1707916259766 104.1690673828125 C 102.3554458618164 105.9844284057617 99.94274139404297 106.9837188720703 97.37628173828125 106.9837188720703 C 94.810302734375 106.9837188720703 92.39768218994141 105.9847412109375 90.58284759521484 104.1707916259766 L 53.14230346679688 66.73026275634766 L 15.54423046112061 104.3283386230469 C 13.72850227355957 106.1431579589844 11.315993309021 107.1421356201172 8.750247955322266 107.1421356201172 Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-6\",\n  d: \"M 8.750262260437012 102.1421279907227 C 9.929466247558594 102.1421279907227 11.10869407653809 101.6923522949219 12.00869369506836 100.7928085327148 L 53.14230728149414 59.65919494628906 L 94.11751556396484 100.6343994140625 C 95.01750946044922 101.5339584350586 96.19696044921875 101.9837341308594 97.37629699707031 101.9837341308594 C 98.55563354492188 101.9837341308594 99.73485565185547 101.5339584350586 100.6343994140625 100.6343994140625 C 102.4335098266602 98.83439636230469 102.4335098266602 95.91751098632813 100.6343994140625 94.11751556396484 L 59.65919494628906 53.14230728149414 L 100.6343994140625 12.1671028137207 C 102.4335098266602 10.36710262298584 102.4335098266602 7.449307441711426 100.6343994140625 5.650193691253662 C 99.73485565185547 4.75019359588623 98.55563354492188 4.300193786621094 97.37629699707031 4.300193786621094 C 96.19696044921875 4.300193786621094 95.01750946044922 4.75019359588623 94.11751556396484 5.650193691253662 L 53.14230728149414 46.62539672851563 L 12.00869369506836 5.491807460784912 C 11.10869407653809 4.592250347137451 9.929471969604492 4.142472267150879 8.750250816345215 4.142472267150879 C 7.571028709411621 4.142472267150879 6.391807079315186 4.592250347137451 5.491807460784912 5.491807460784912 C 3.692693710327148 7.291807174682617 3.692693710327148 10.2086935043335 5.491807460784912 12.00869369506836 L 46.62539672851563 53.14230728149414 L 5.491807460784912 94.27590179443359 C 3.692693710327148 96.07501220703125 3.692693710327148 98.99280548095703 5.491807460784912 100.7928085327148 C 6.391807079315186 101.6923522949219 7.57103443145752 102.1421279907227 8.750262260437012 102.1421279907227 M 8.750262260437012 112.1421279907227 C 4.849443435668945 112.1421279907227 1.181648135185242 110.6233749389648 -1.577465415000916 107.8656692504883 C -7.274351596832275 102.1659698486328 -7.273579120635986 92.89914703369141 -1.579260945320129 87.20482635498047 L 32.4832649230957 53.14230346679688 L -1.579260945320129 19.07976150512695 C -7.272942543029785 13.38326168060303 -7.272942543029785 4.117238998413086 -1.581010937690735 -1.577510952949524 C 1.181648135185242 -4.338783740997314 4.849443435668945 -5.85753345489502 8.750262260437012 -5.85753345489502 C 12.65105724334717 -5.85753345489502 16.3188533782959 -4.338783740997314 19.07796669006348 -1.581056356430054 L 53.14230346679688 32.4832649230957 L 87.04644012451172 -1.42087459564209 C 89.80576324462891 -4.180192947387695 93.47430419921875 -5.699806213378906 97.37630462646484 -5.699806213378906 C 101.2792358398438 -5.699806213378906 104.9481964111328 -4.179556369781494 107.7072601318359 -1.419079065322876 C 113.399787902832 4.273443698883057 113.4005584716797 13.54026222229004 107.7072143554688 19.23642158508301 L 73.80133056640625 53.14230728149414 L 107.7054672241211 87.04644012451172 C 113.3991470336914 92.74294281005859 113.3991470336914 102.0089645385742 107.7072143554688 107.7037200927734 C 104.9466705322266 110.4643325805664 101.2783508300781 111.9837417602539 97.37630462646484 111.9837417602539 C 93.47519683837891 111.9837417602539 89.80725860595703 110.4649429321289 87.04814910888672 107.7071685791016 L 53.14230728149414 73.80133056640625 L 19.07976150512695 107.8638763427734 C 16.3188533782959 110.6233749389648 12.65108013153076 112.1421279907227 8.750262260437012 112.1421279907227 Z\"\n})));\n\nvar SvgNoWifi = function SvgNoWifi(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 398.952 313.124\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNoWifi, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/no-wifi.087804c8.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport './icon.css';\r\nimport { ReactComponent as UserSvg } from './user.svg'\r\nimport { ReactComponent as  CogSvg } from './setting.svg'\r\nimport { ReactComponent as PlaneSvg } from './chat-action.svg'\r\nimport { ReactComponent as ChatSvg } from './message.svg';\r\nimport { ReactComponent as UsersSvg } from './users.svg'\r\nimport { ReactComponent as GroupSvg } from './group.svg'\r\nimport { ReactComponent as NoWifi } from './no-wifi.svg'\r\n\r\nexport const user = <UserSvg />\r\nexport const cog = <CogSvg />\r\nexport const plane = <PlaneSvg />\r\nexport const chat = <ChatSvg />\r\nexport const group = <GroupSvg />\r\nexport const contact = <UsersSvg />\r\nexport const noWifi = <NoWifi />\r\n\r\n\r\nexport const userCircle = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 16 3 C 8.832031 3 3 8.832031 3 16 C 3 23.167969 8.832031 29 16 29 C 23.167969 29 29 23.167969 29 16 C 29 8.832031 23.167969 3 16 3 Z M 16 5 C 22.085938 5 27 9.914063 27 16 C 27 22.085938 22.085938 27 16 27 C 9.914063 27 5 22.085938 5 16 C 5 9.914063 9.914063 5 16 5 Z M 16 8 C 13.25 8 11 10.25 11 13 C 11 14.515625 11.707031 15.863281 12.78125 16.78125 C 10.53125 17.949219 9 20.300781 9 23 L 11 23 C 11 20.226563 13.226563 18 16 18 C 18.773438 18 21 20.226563 21 23 L 23 23 C 23 20.300781 21.46875 17.949219 19.21875 16.78125 C 20.292969 15.863281 21 14.515625 21 13 C 21 10.25 18.75 8 16 8 Z M 16 10 C 17.667969 10 19 11.332031 19 13 C 19 14.667969 17.667969 16 16 16 C 14.332031 16 13 14.667969 13 13 C 13 11.332031 14.332031 10 16 10 Z\"/></svg>;\r\nexport const userCog = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 16 5 C 12.1 5 9 8.1 9 12 C 9 14.4375 10.209961 16.561523 12.070312 17.8125 C 8.5100119 19.34733 6 22.893578 6 27 L 8 27 C 8 22.6 11.6 19 16 19 C 19.9 19 23 15.9 23 12 C 23 8.1 19.9 5 16 5 z M 16 7 C 18.8 7 21 9.2 21 12 C 21 14.8 18.8 17 16 17 C 13.2 17 11 14.8 11 12 C 11 9.2 13.2 7 16 7 z M 24.099609 18 L 24.099609 20.099609 C 23.499609 20.199609 22.900391 20.500781 22.400391 20.800781 L 20.900391 19.300781 L 19.5 20.699219 L 21 22.199219 C 20.6 22.699219 20.400781 23.3 20.300781 24 L 18 24 L 18 26 L 20.099609 26 C 20.199609 26.6 20.500781 27.200781 20.800781 27.800781 L 19.300781 29.300781 L 20.699219 30.699219 L 22.199219 29.199219 C 22.699219 29.499219 23.300391 29.800391 23.900391 29.900391 L 23.900391 32 L 25.900391 32 L 25.900391 29.900391 C 26.500391 29.800391 27.099609 29.499219 27.599609 29.199219 L 29.099609 30.699219 L 30.5 29.300781 L 29 27.800781 C 29.4 27.300781 29.599219 26.7 29.699219 26 L 32 26 L 32 24 L 29.900391 24 C 29.800391 23.4 29.499219 22.799219 29.199219 22.199219 L 30.699219 20.699219 L 29.300781 19.300781 L 27.800781 20.800781 C 27.300781 20.500781 26.699609 20.199609 26.099609 20.099609 L 26.099609 18 L 24.099609 18 z M 25 22 C 26.7 22 28 23.3 28 25 C 28 26.7 26.7 28 25 28 C 23.3 28 22 26.7 22 25 C 22 23.3 23.3 22 25 22 z M 25 24 C 24.875 24 24.75 24.03125 24.632812 24.085938 C 24.515625 24.140625 24.40625 24.21875 24.3125 24.3125 C 24.21875 24.40625 24.140625 24.515625 24.085938 24.632812 C 24.03125 24.75 24 24.875 24 25 C 24 25.375 24.28125 25.75 24.632812 25.914062 C 24.75 25.96875 24.875 26 25 26 C 25.5 26 26 25.5 26 25 C 26 24.5 25.5 24 25 24 z\"/></svg>;\r\nexport const users = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 11.5 6 C 9.578125 6 8 7.578125 8 9.5 C 8 11.421875 9.578125 13 11.5 13 C 13.421875 13 15 11.421875 15 9.5 C 15 7.578125 13.421875 6 11.5 6 Z M 20.5 6 C 18.578125 6 17 7.578125 17 9.5 C 17 11.421875 18.578125 13 20.5 13 C 22.421875 13 24 11.421875 24 9.5 C 24 7.578125 22.421875 6 20.5 6 Z M 11.5 8 C 12.339844 8 13 8.660156 13 9.5 C 13 10.339844 12.339844 11 11.5 11 C 10.660156 11 10 10.339844 10 9.5 C 10 8.660156 10.660156 8 11.5 8 Z M 20.5 8 C 21.339844 8 22 8.660156 22 9.5 C 22 10.339844 21.339844 11 20.5 11 C 19.660156 11 19 10.339844 19 9.5 C 19 8.660156 19.660156 8 20.5 8 Z M 7 12 C 4.800781 12 3 13.800781 3 16 C 3 17.113281 3.476563 18.117188 4.21875 18.84375 C 2.886719 19.746094 2 21.28125 2 23 L 4 23 C 4 21.332031 5.332031 20 7 20 C 8.667969 20 10 21.332031 10 23 L 12 23 C 12 21.28125 11.113281 19.746094 9.78125 18.84375 C 10.523438 18.117188 11 17.113281 11 16 C 11 13.800781 9.199219 12 7 12 Z M 12 23 C 11.375 23.835938 11 24.886719 11 26 L 13 26 C 13 24.332031 14.332031 23 16 23 C 17.667969 23 19 24.332031 19 26 L 21 26 C 21 24.886719 20.625 23.835938 20 23 C 19.660156 22.546875 19.25 22.160156 18.78125 21.84375 C 19.523438 21.117188 20 20.113281 20 19 C 20 16.800781 18.199219 15 16 15 C 13.800781 15 12 16.800781 12 19 C 12 20.113281 12.476563 21.117188 13.21875 21.84375 C 12.75 22.160156 12.339844 22.546875 12 23 Z M 20 23 L 22 23 C 22 21.332031 23.332031 20 25 20 C 26.667969 20 28 21.332031 28 23 L 30 23 C 30 21.28125 29.113281 19.746094 27.78125 18.84375 C 28.523438 18.117188 29 17.113281 29 16 C 29 13.800781 27.199219 12 25 12 C 22.800781 12 21 13.800781 21 16 C 21 17.113281 21.476563 18.117188 22.21875 18.84375 C 20.886719 19.746094 20 21.28125 20 23 Z M 7 14 C 8.117188 14 9 14.882813 9 16 C 9 17.117188 8.117188 18 7 18 C 5.882813 18 5 17.117188 5 16 C 5 14.882813 5.882813 14 7 14 Z M 25 14 C 26.117188 14 27 14.882813 27 16 C 27 17.117188 26.117188 18 25 18 C 23.882813 18 23 17.117188 23 16 C 23 14.882813 23.882813 14 25 14 Z M 16 17 C 17.117188 17 18 17.882813 18 19 C 18 20.117188 17.117188 21 16 21 C 14.882813 21 14 20.117188 14 19 C 14 17.882813 14.882813 17 16 17 Z\"/></svg>;\r\nexport const emoji = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 16 4 C 9.382813 4 4 9.382813 4 16 C 4 22.617188 9.382813 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 16 6 C 21.535156 6 26 10.464844 26 16 C 26 21.535156 21.535156 26 16 26 C 10.464844 26 6 21.535156 6 16 C 6 10.464844 10.464844 6 16 6 Z M 11.5 12 C 10.671875 12 10 12.671875 10 13.5 C 10 14.328125 10.671875 15 11.5 15 C 12.328125 15 13 14.328125 13 13.5 C 13 12.671875 12.328125 12 11.5 12 Z M 20.5 12 C 19.671875 12 19 12.671875 19 13.5 C 19 14.328125 19.671875 15 20.5 15 C 21.328125 15 22 14.328125 22 13.5 C 22 12.671875 21.328125 12 20.5 12 Z M 10.8125 19 L 9.09375 20 C 10.476563 22.386719 13.046875 24 16 24 C 18.953125 24 21.523438 22.386719 22.90625 20 L 21.1875 19 C 20.148438 20.792969 18.226563 22 16 22 C 13.773438 22 11.851563 20.792969 10.8125 19 Z\"/></svg>;\r\nexport const bars = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 4 7 L 4 9 L 28 9 L 28 7 Z M 4 15 L 4 17 L 28 17 L 28 15 Z M 4 23 L 4 25 L 28 25 L 28 23 Z\"/></svg>;\r\nexport const times = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z\"/></svg>;\r\nexport const search = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 19 3 C 13.488281 3 9 7.488281 9 13 C 9 15.394531 9.839844 17.589844 11.25 19.3125 L 3.28125 27.28125 L 4.71875 28.71875 L 12.6875 20.75 C 14.410156 22.160156 16.605469 23 19 23 C 24.511719 23 29 18.511719 29 13 C 29 7.488281 24.511719 3 19 3 Z M 19 5 C 23.429688 5 27 8.570313 27 13 C 27 17.429688 23.429688 21 19 21 C 14.570313 21 11 17.429688 11 13 C 11 8.570313 14.570313 5 19 5 Z\"/></svg>;\r\nexport const moon = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 5 5 L 5 7 L 3 7 L 3 9 L 5 9 L 5 11 L 7 11 L 7 9 L 9 9 L 9 7 L 7 7 L 7 5 Z M 20.28125 7.9375 L 18.625 8 C 13.28125 8.191406 9 12.578125 9 17.96875 C 9 23.480469 13.488281 27.96875 19 27.96875 C 24.390625 27.96875 28.777344 23.6875 28.96875 18.34375 L 29.03125 16.71875 L 27.5625 17.40625 C 26.78125 17.777344 25.914063 17.96875 25 17.96875 C 21.675781 17.96875 19 15.292969 19 11.96875 C 19 11.054688 19.222656 10.21875 19.59375 9.4375 Z M 17.375 10.3125 C 17.25 10.867188 17 11.375 17 11.96875 C 17 16.375 20.59375 19.96875 25 19.96875 C 25.605469 19.96875 26.121094 19.722656 26.6875 19.59375 C 25.925781 23.21875 22.859375 25.96875 19 25.96875 C 14.570313 25.96875 11 22.398438 11 17.96875 C 11 14.117188 13.757813 11.082031 17.375 10.3125 Z\"/></svg>;\r\nexport const sun = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 15 3 L 15 8 L 17 8 L 17 3 Z M 7.5 6.09375 L 6.09375 7.5 L 9.625 11.0625 L 11.0625 9.625 Z M 24.5 6.09375 L 20.9375 9.625 L 22.375 11.0625 L 25.90625 7.5 Z M 16 9 C 12.144531 9 9 12.144531 9 16 C 9 19.855469 12.144531 23 16 23 C 19.855469 23 23 19.855469 23 16 C 23 12.144531 19.855469 9 16 9 Z M 16 11 C 18.773438 11 21 13.226563 21 16 C 21 18.773438 18.773438 21 16 21 C 13.226563 21 11 18.773438 11 16 C 11 13.226563 13.226563 11 16 11 Z M 3 15 L 3 17 L 8 17 L 8 15 Z M 24 15 L 24 17 L 29 17 L 29 15 Z M 9.625 20.9375 L 6.09375 24.5 L 7.5 25.90625 L 11.0625 22.375 Z M 22.375 20.9375 L 20.9375 22.375 L 24.5 25.90625 L 25.90625 24.5 Z M 15 24 L 15 29 L 17 29 L 17 24 Z\"/></svg>;\r\nexport const comment = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 3 5 L 3 23 L 8 23 L 8 28.078125 L 14.351563 23 L 29 23 L 29 5 Z M 5 7 L 27 7 L 27 21 L 13.648438 21 L 10 23.917969 L 10 21 L 5 21 Z\"/></svg>;\r\nexport const friends = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path d=\"M 9 7 C 5.699219 7 3 9.699219 3 13 C 3 14.984375 3.976563 16.75 5.46875 17.84375 C 2.832031 19.152344 1 21.863281 1 25 L 3 25 C 3 21.675781 5.675781 19 9 19 C 12.324219 19 15 21.675781 15 25 L 17 25 C 17 21.675781 19.675781 19 23 19 C 26.324219 19 29 21.675781 29 25 L 31 25 C 31 21.863281 29.167969 19.152344 26.53125 17.84375 C 28.023438 16.75 29 14.984375 29 13 C 29 9.699219 26.300781 7 23 7 C 19.699219 7 17 9.699219 17 13 C 17 14.984375 17.976563 16.75 19.46875 17.84375 C 18.011719 18.566406 16.789063 19.707031 16 21.125 C 15.210938 19.707031 13.988281 18.566406 12.53125 17.84375 C 14.023438 16.75 15 14.984375 15 13 C 15 9.699219 12.300781 7 9 7 Z M 9 9 C 11.222656 9 13 10.777344 13 13 C 13 15.222656 11.222656 17 9 17 C 6.777344 17 5 15.222656 5 13 C 5 10.777344 6.777344 9 9 9 Z M 23 9 C 25.222656 9 27 10.777344 27 13 C 27 15.222656 25.222656 17 23 17 C 20.777344 17 19 15.222656 19 13 C 19 10.777344 20.777344 9 23 9 Z\"/></svg>;\r\nexport const leftCaret = <svg id=\"Layer_1\" version=\"1.1\" viewBox=\"0 0 50 50\" xmlns=\"http://www.w3.org/2000/svg\"><g id=\"Layer_1_1_\"><polygon points=\"37.561,47.293 15.267,25 37.561,2.707 36.146,1.293 12.439,25 36.146,48.707\"/></g></svg>","import React, { Component, useContext } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ThemeContext from '../../contexts/themeContext';\r\nimport ChatSocketServer from '../../helpers/ChatSocketServer';\r\nimport { chat, cog, contact, group, moon, search, sun, times } from '../../res/icon';\r\nimport logoSvg from '../../res/logo.svg';\r\n// import { AuthProfile } from '../user/AuthProfile';\r\nimport './chatlist.css';\r\n\r\n\r\nconst ChatListItem = ({ user, isSelected, setSelectedUser, isTyping=false }) => {\r\n    const { theme, state } = useContext(ThemeContext.MyThemeContext);\r\n    return (\r\n        <li\r\n            className={` chatlist--item ${isSelected ? 'active' : ''} ${state}`} \r\n            onClick={setSelectedUser}>\r\n            <div className={`chat-image ${user.online === 'Y' ? 'online' : '' }`}>\r\n                { user.imageUrl ? <img src={user.imageUrl} alt=\"profile\" /> : <></> }\r\n                { user.online === 'Y' && <div className=\"online-trk\"></div> }\r\n            </div>\r\n            <div className=\"chat-person\">\r\n                <span className={`chat-person--name`} style={{ color: theme.textColor }}>{ user.username }</span>\r\n                { isTyping ? <small className=\"chat-person--typing\">typing</small> : <></> }\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\nclass ChatList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // for the chat\r\n            selectedUserId: null,\r\n            chatListUsers: null,\r\n\r\n            searchTerm: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        ChatSocketServer.getChatList(this.props.userId);\r\n        ChatSocketServer.eventEmitter.on('chat-list-response', this.renderChatList)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        ChatSocketServer.eventEmitter.removeListener('chat-list-response', this.renderChatList);\r\n    }\r\n\r\n    updateSelectedUser(user) {\r\n        this.setState({ selectedUserId: user._id });\r\n        this.props.updateSelectedUser(user)\r\n    }\r\n\r\n    searchKey = (e) => {\r\n        this.setState({ searchTerm: e.target.value })\r\n    }\r\n\r\n    renderChatList = (chatListResponse) => {\r\n        if (chatListResponse.error) {\r\n            console.log(\"chatlist\", chatListResponse.error)\r\n        } else {\r\n            let chatListUsers = this.state.chatListUsers;\r\n            if (chatListResponse.singleUser) {\r\n                if (chatListUsers) { // to prevent error\r\n                    if (chatListUsers.length > 0) {\r\n                        chatListUsers = chatListUsers.filter((user) => user._id !== chatListResponse.chatList._id);\r\n                    }\r\n                    /* Adding new online user into chat list array */\r\n                    chatListUsers = [...[ chatListResponse.chatList ], ...chatListUsers];\r\n                }\r\n            } else if (chatListResponse.userDisconnected) {\r\n                const loggedOutUser = chatListUsers.findIndex((obj) => obj._id === chatListResponse.userId);\r\n                if (loggedOutUser >= 0) {\r\n                    chatListUsers[loggedOutUser].online = 'N';\r\n                }\r\n            } else {\r\n                /* Updating entire chat list if user logs in. */\r\n                chatListUsers = chatListResponse.chatList;\r\n            }\r\n            this.setState({\r\n                chatListUsers: chatListUsers\r\n            });\r\n        }\r\n    }\r\n\r\n    _renderNavbarAside = ({ theme, state, toggleTheme }) => (\r\n        <aside className=\"nav-aside\" style={{ background: theme.backgroundColor, color: theme.textColor, fill: theme.textColor }}>\r\n            <div className=\"nav-links\">\r\n                <div className=\"header\">\r\n                    <img src={logoSvg} alt=\"logo\" />\r\n                </div>\r\n                <span>{ contact }</span>\r\n                <span>{ chat }</span>\r\n                <span>{ group }</span>\r\n            </div>\r\n            <div className=\"nav-sub\">\r\n                <span>{ cog }</span>\r\n            </div>\r\n        </aside>\r\n    )\r\n\r\n    _renderAuthBox = ({ theme, state, toggleTheme }) => (\r\n        <div className=\"auth-box\" style={{ background: theme.contrastColorFade }}>\r\n            <div className=\"auth-img\"></div>\r\n            <div className=\"auth-name\">Odelola Joshua</div>\r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        const { isMobileViewPort, toggleValue } = this.props;\r\n        return (\r\n            <ThemeContext.Consumer>\r\n                {\r\n                    ({ theme, state, toggleTheme }) => (\r\n                    <div ref={this.props.sidebarRef} className={`app-aside ${isMobileViewPort ? `float ${!toggleValue ? 'hide' : ''}` : ''}`}>\r\n                        { this._renderNavbarAside({ theme, state, toggleTheme }) }\r\n                        { this._renderAuthBox({ theme, state, toggleTheme }) }\r\n                        <aside className={`chat-list`} style={{ background: theme.contrastColorFall, color: theme.textColor, boxShadow: `3px 0 5px ${theme.contrastColorFade}` }}>\r\n                            { this.state.chatListUsers ? (\r\n                                <>\r\n                                <div className=\"aside-top\">\r\n                                    { this.state.chatListUsers.length > 0 ? (\r\n                                        <>\r\n                                            <div className=\"search-pane\">\r\n                                                { this.state.searchTerm.trim().length > 0 ? <span className=\"close-search\" onClick={() => this.setState({ searchTerm: '' })}><div>{ times }</div></span> : <span>{ search }</span> }\r\n                                                <input type=\"text\" placeholder=\"Find a chat here\" onChange={this.searchKey} value={this.state.searchTerm} style={{ background: theme.contrastColorFade, color: theme.textColor }} />\r\n                                            </div>\r\n                                            <span onClick={() => toggleTheme()}>\r\n                                                { state === 'night' ? sun : moon }\r\n                                            </span>\r\n                                        </>\r\n                                    ) : <></> }\r\n                                </div>\r\n                                <ul>\r\n                                {\r\n                                    (this.state.chatListUsers.filter((user) => {\r\n                                        return user.username.toLowerCase().includes(this.state.searchTerm.trim().toLowerCase())\r\n                                    })).map((user, index) => (\r\n                                        <ChatListItem \r\n                                            key={`chat-user${index}`}\r\n                                            isTyping={this.props.typing[user._id]}\r\n                                            isSelected={this.state.selectedUserId === user._id}\r\n                                            user={user}\r\n                                            setSelectedUser={() => this.updateSelectedUser(user)}></ChatListItem>\r\n                                    ))\r\n                                }\r\n                                </ul>\r\n                                <div className=\"aside-bottom\">\r\n                                    {/* <AuthProfile /> */}\r\n                                </div>\r\n                                </>\r\n                                ) : <></>\r\n                            }\r\n                            <div className={`alert \r\n                                ${this.state.loading ? 'alert-info' : ''} \r\n                                ${this.state.chatListUsers && this.state.chatListUsers.length > 0 ? 'visibility-hidden' : ''}`\r\n                            }>\r\n                                { this.state.chatListUsers ? this.state.chatListUsers.length === 0 ? 'No User Available to chat.' : 'Error loading your chat! We will keep trying' : 'Loading your chat list.'}\r\n                            </div>\r\n                        </aside>\r\n                    </div>\r\n                    )\r\n                }\r\n            </ThemeContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    const { userId, token } = state.auth;\r\n    return { userId, token }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ChatList);","import React, { Component } from 'react';\r\nimport PropsType from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nimport './scrollcontainer.css';\r\n\r\nclass ScrollContainer extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.scrollBoxRef = null;\r\n        this.contentBoxRef = null;\r\n        this.loadingRef = React.createRef();\r\n        this.state = {\r\n            paddingTop: \"30px\",\r\n            loading: false,\r\n            loadingOffset: -100,\r\n            boxHeight: 0\r\n        }\r\n    }\r\n\r\n    static propTypes = {\r\n        onScrollBoxMount: PropsType.func,\r\n        onScrollPageRequest: PropsType.func,\r\n        onScrollPageResponse: PropsType.func\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onScrollBoxMount(this.scrollBoxRef, this.contentBoxRef);\r\n        this.setState({ boxHeight: this.contentBoxRef.getBoundingClientRect().height })\r\n\r\n        this.addScrollEvent();\r\n    }\r\n\r\n    handleObserver() {\r\n\r\n    }\r\n\r\n    addScrollEvent = () => {\r\n        this.scrollBoxRef.addEventListener(\"scroll\", _.throttle(this.handleScrolling), false);\r\n        document.addEventListener(\"DOMContentLoaded\", this.handleScrolling, false);\r\n    } \r\n\r\n    handleScrolling = async (e) => {\r\n        if (parseInt(this.props.page) > 1 && this.scrollBoxRef.scrollTop <= 30) {\r\n            const offsetPercent = (30 - this.scrollBoxRef.scrollTop) / 30 * 100;\r\n            this.setState({ loadingOffset: offsetPercent - 100 })\r\n        } else {\r\n            this.setState({ loadingOffset: -100 })\r\n        }\r\n\r\n        if (!this.state.loading) {\r\n            if (this.scrollBoxRef.scrollTop <= 0) {\r\n                try {\r\n                    this.setState({ loading: true })\r\n                    await this.props.onScrollPageRequest();\r\n                } catch (error) {\r\n                    console.warn(error);\r\n                } finally {\r\n                    this.setState({ loading: false })\r\n                    this.setState((prevState) => {\r\n                        const currentHeight = this.contentBoxRef.getBoundingClientRect().height;\r\n                        this.scrollBoxRef.scrollTo(0, currentHeight - prevState.boxHeight)\r\n                        return ({ boxHeight: currentHeight });\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(el) => this.scrollBoxRef = el} className={`scrollBox ${this.props.className}`} style={{ paddingTop: this.state.paddingTop }}>\r\n                <div ref={this.loadingRef} className=\"scrollBox--loader\" style={{ height: this.state.paddingTop, top: this.state.loading ? 0 : `${this.state.loadingOffset}%` }}>Loading</div>\r\n                <div ref={(el) => this.contentBoxRef = el} className={`scrollBox--content ${this.props.contentClassName}`}>\r\n                    { this.props.children }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ScrollContainer;","\r\n\r\n// var throttle = function throttle(fn, delay) {\r\n//     var lastCall = 0;\r\n//     return function () {\r\n//       var now = new Date().getTime();\r\n//       if (now - lastCall < delay) {\r\n//         return;\r\n//       }\r\n//       lastCall = now;\r\n//       return fn.apply(undefined, arguments);\r\n//     };\r\n// };\r\n\r\nvar validateUrl = function(asset) {\r\n    if (!asset) throw new Error(\"Invalid resource\")\r\n    return asset;\r\n}\r\n\r\nfunction SoundHelper({ asset, throttle=1000, volume=.5 }) {\r\n    this.asset = validateUrl(asset);\r\n    this.volume = volume;\r\n    this.play = () => {\r\n        const audioElement = new Audio(this.asset);\r\n        audioElement.play().then().catch(console.log)\r\n    }\r\n}\r\n\r\nexport default SoundHelper;","import React, { useContext } from 'react';\r\nimport { emoji, plane } from '../../res/icon';\r\nimport \"./chatroom.css\";\r\nimport { connect } from 'react-redux';\r\nimport ChatHttpServer from '../../helpers/ChatHttpServer';\r\nimport ChatSocketServer from '../../helpers/ChatSocketServer';\r\nimport noUserSelected from '../../res/select_a_user.svg';\r\nimport startConversation from '../../res/startConversation.svg';\r\nimport SpinnerFullPage from '../../components/spinner';\r\nimport ReactEmoji from 'react-emoji';\r\nimport ScrollContainer from '../../components/scroll-comp/ScrollContainer';\r\nimport { datesAreOnSameDay } from '../../helpers/dateHelper';\r\n\r\nimport soundFile from '../../res/sound/doneforyou.mp3';\r\nimport SoundHelper from '../../helpers/SoundHelper';\r\nimport ThemeContext from '../../contexts/themeContext';\r\n\r\nclass ChatRoom extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.messagesBox = null;\r\n        this.messageContentBox = null;\r\n        this.notifySound = new SoundHelper({ asset: soundFile })\r\n        this.state = {\r\n            messageLoading: false,\r\n            messages: [],\r\n            selectedUser: null,\r\n            //\r\n            page: null,\r\n            limit: 10,\r\n            totalPages: null,\r\n            //\r\n            messageInput: \"\"\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (prevState.selectedUser === null || prevState.selectedUser._id !== nextProps.selectedUser._id) {\r\n            return {\r\n                selectedUser: nextProps.selectedUser,\r\n                page: null,\r\n                messages: []\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.selectedUser === null || (this.props.selectedUser._id !== prevProps.selectedUser._id)) {\r\n            this.getMessages();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        ChatSocketServer.receiveMessage();\r\n        ChatSocketServer.eventEmitter.on('add-message-response', this.receiveSocketMessages);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        ChatSocketServer.eventEmitter.removeListener('add-message-response', this.receiveSocketMessages);\r\n    }\r\n\r\n    receiveSocketMessages = (socketResponse) => {\r\n        const { selectedUser } = this.state;\r\n        if (selectedUser !== null && selectedUser._id === socketResponse.fromUserId) {\r\n            this.setState({ messages: [ ...this.state.messages, socketResponse ] });\r\n            this.scrollMessageContainer();\r\n            this.notifySound.play()\r\n        }\r\n    }\r\n\r\n    getMessages = async () => {\r\n        try {\r\n            // this.setState({ messageLoading: true })\r\n            const { userId, selectedUser, token} = this.props;\r\n            const result = await ChatHttpServer.getMessages(userId, selectedUser._id, { page: this.state.page, limit: this.state.limit }, token);\r\n            if (!result.error) {\r\n                this.setState({ \r\n                    messages: result.messages,\r\n                    page: result.currentPage,\r\n                    totalPages: result.totalPages\r\n                });\r\n                this.scrollMessageContainer();\r\n            } else {\r\n                alert(\"Unable to fetch messages\")\r\n            }\r\n        } catch (err) {\r\n            console.log(\"an error occurred!!! \\n\", err)\r\n        } finally {\r\n            // this.setState({ messageLoading: false });\r\n        }\r\n    }\r\n\r\n    handleKeyPress = (e) => {\r\n        const { selectedUser } = this.props;\r\n        if (e.key === 'Enter') {\r\n            this.sendMessage();\r\n        } else {\r\n            ChatSocketServer.typingMessage(selectedUser._id);\r\n        }\r\n    }\r\n\r\n    sendMessage = () => {\r\n        const { userId, selectedUser } = this.props;\r\n        const message = this.state.messageInput;\r\n        if (message === '' || message === undefined || message === null) {\r\n            alert(\"message can't be empty\")\r\n        } else if (userId === '') {\r\n            \r\n        } else if (!selectedUser || selectedUser === undefined) {\r\n\r\n        } else {\r\n            this.sendAndUpdateMessages({\r\n                fromUserId: userId,\r\n                text: (message).trim(),\r\n                toUserId: selectedUser._id,\r\n            });\r\n            this.setState({ messageInput: \"\" })\r\n        }\r\n    }\r\n\r\n    sendAndUpdateMessages(message) {\r\n        try {\r\n            ChatSocketServer.sendMessage(message);\r\n            this.setState({\r\n                messages : [...this.state.messages, message]\r\n            });\r\n            this.scrollMessageContainer();\r\n        } catch (error) {\r\n            console.error(\"error\")\r\n            alert(`Can't send your message`);\r\n        }\r\n    }\r\n\r\n    scrollMessageContainer() {\r\n        if (this.messagesBox !== null) {\r\n          try {\r\n            setTimeout(() => {\r\n                this.messagesBox.scrollTo(0, this.messageContentBox.scrollHeight);\r\n            }, 100);\r\n          } catch (error) {\r\n            console.warn(error);\r\n          }\r\n        }\r\n    }\r\n\r\n    onScrollBoxMount = (scrollBox, contextBox) => {\r\n        this.messagesBox = scrollBox;\r\n        this.messageContentBox = contextBox;\r\n        this.scrollMessageContainer();\r\n    }\r\n\r\n    handleScrollPageRequest = async () => {\r\n        if (parseInt(this.state.page) > 1) {\r\n            try {\r\n                const { userId, selectedUser, token} = this.props;\r\n                const result = await ChatHttpServer.getMessages(userId, selectedUser._id, { page: this.state.page - 1, limit: this.state.limit }, token);\r\n                if (!result.error) {\r\n                    this.setState({ \r\n                        messages: [...result.messages, ...this.state.messages],\r\n                        page: result.currentPage,\r\n                        totalPages: result.totalPages\r\n                    });\r\n                    // this.scrollMessageContainer();\r\n                } else {\r\n                    alert(\"Unable to fetch messages\")\r\n                }\r\n            } catch (err) {\r\n                console.error(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    handleScrollPageResult = (data) => {\r\n        console.log(data);\r\n    }\r\n\r\n    renderMessages = () => {\r\n        if (this.state.messages.length === 0) return [];\r\n        let dayInConcern = new Date(this.state.messages[0].date);\r\n        const messageUI = this.state.messages.map((message, index) => {\r\n            const day = new Date(message.date);\r\n            const isNewDay = !datesAreOnSameDay(day, dayInConcern) && (day.getTime() > dayInConcern.getTime());\r\n            if (isNewDay) dayInConcern = day;\r\n            return (\r\n                <React.Fragment key={`chat-msg-${index}`}>\r\n                    { \r\n                        isNewDay ? (\r\n                            <div className=\"chat-date-bk\">\r\n                                <div></div>\r\n                                <span>{ dayInConcern.toDateString() }</span>\r\n                                <div></div>\r\n                            </div>\r\n                        ) : <></> \r\n                    }\r\n                    <ChatBox key={`chat-bx-${index}`} isAuth={message.fromUserId === this.props.userId} message={message} />\r\n                </ React.Fragment>\r\n            )\r\n        })\r\n        return messageUI;\r\n    }\r\n\r\n    renderChatUI = () => {\r\n        return (\r\n            <ThemeContext.Consumer>\r\n                {\r\n                    ({ theme }) => (\r\n                        <main className=\"chat-room\" role=\"main\">\r\n                            { this.state.page === 0 ? this.renderStartChatUI() : <></> }\r\n                            <ScrollContainer \r\n                                scrollBoxRef={this.messagesBox}\r\n                                onScrollPageRequest={this.handleScrollPageRequest}\r\n                                onScrollPageResponse={this.handleScrollPageResult}\r\n                                onScrollBoxMount={this.onScrollBoxMount} \r\n                                className=\"chat-bx\" \r\n                                contentClassName=\"content-bx\">\r\n                                <>\r\n                                {\r\n                                    parseInt(this.state.page) <= 1 || this.state.page === null ? (\r\n                                        this.renderStartChatUI()\r\n                                    ) : <></>\r\n                                }\r\n                                {\r\n                                    this.renderMessages()\r\n                                }\r\n                                </>\r\n                            </ScrollContainer>\r\n                            <div className=\"bottom-bar\" style={{ width: this.messagesBox ? this.messagesBox.getBoundingClientRect().width : \"100%\" }}>\r\n                                <span>{ emoji }</span>\r\n                                <input \r\n                                    placeholder={`Send a message`} \r\n                                    value={this.state.messageInput} \r\n                                    onChange={(e) => this.setState({ messageInput: e.target.value })} \r\n                                    onKeyPress={this.handleKeyPress} \r\n                                    style={{ background: theme.contrastColorFall, color: theme.textColor }} />\r\n                                <span onClick={this.sendMessage}>{ plane }</span>\r\n                            </div>\r\n                        </main>\r\n                    )\r\n                }\r\n            </ThemeContext.Consumer>\r\n        )\r\n    }\r\n\r\n    renderNoUserSelectedUI = () => {\r\n        return (\r\n            <div className=\"no-chat-select-bx\">\r\n                <img src={ noUserSelected } alt=\"No Selected User\" />\r\n                <h4>Select A Chat</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderStartChatUI = () => {\r\n        return (\r\n            <div className=\"chat-start-bx\">\r\n                <img src={ startConversation } alt=\"Start Conversation\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { selectedUser } = this.state;\r\n        if (selectedUser) {\r\n            if (this.state.messageLoading) {\r\n                return <SpinnerFullPage />\r\n            }\r\n            return this.renderChatUI();\r\n        } else {\r\n            return this.renderNoUserSelectedUI();\r\n        }\r\n    }\r\n}\r\n\r\nconst ChatBox = ({ message, isAuth }) => {\r\n    const { state } = useContext(ThemeContext.MyThemeContext);\r\n    return (\r\n        <div className={`chat-row ${message.username === \"admin\" ? \"admin\" : isAuth ? \"auth\" : \"\"} ${state}`}>\r\n            { \r\n                message.username !== \"admin\" && !isAuth ? <div className=\"chat-auth\">{ message.username }</div> : \"\"\r\n            }\r\n            <div className=\"chat-item\">\r\n                { ReactEmoji.emojify(message.text) }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({ userId: state.auth.userId, token: state.auth.token })\r\n)(ChatRoom);","\r\n\r\nexport const datesAreOnSameDay = (d1, d2) => (\r\n    d1.getFullYear() === d2.getFullYear() &&\r\n    d1.getMonth() === d2.getMonth() &&\r\n    d1.getDate() === d2.getDate()\r\n)","import React from 'react';\r\nimport ThemeContext from '../../contexts/themeContext';\r\nimport './error.css';\r\n\r\nconst ErrorFullPage = ({ err, onAction, templateImage }) => {\r\n    return (\r\n        <ThemeContext.Consumer>\r\n        {\r\n            ({ theme }) => (\r\n                <div className=\"error-fullpage\" onClick={onAction ? onAction : null}>\r\n                    { templateImage && <img src={templateImage} alt=\"error\" /> }\r\n                    <div className=\"error\">{ err }</div>\r\n                    <small style={{ color: theme.textColorContrast }}>Click to refresh</small>\r\n                </div>\r\n            )\r\n        }\r\n        </ThemeContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default ErrorFullPage;","import React from 'react';\r\nimport ChatList from '../../components/chatlist/ChatList';\r\nimport noUserSelected from '../../res/select_a_user.svg';\r\nimport './home.css';\r\nimport ChatRoom from '../chat/ChatRoom';\r\nimport ChatSocketServer from '../../helpers/ChatSocketServer';\r\nimport { connect } from 'react-redux';\r\nimport { leftCaret, noWifi } from '../../res/icon';\r\nimport ErrorFullPage from '../../components/error';\r\nimport SpinnerFullPage from '../../components/spinner';\r\nimport ChatHttpServer from '../../helpers/ChatHttpServer';\r\nimport AuthHelper from '../../helpers/AuthHelper';\r\nimport ThemeContext from '../../contexts/themeContext';\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.sidebarElem = React.createRef();\r\n        this.state = {\r\n            isMobileViewPort: false,\r\n            toggleValue: false,\r\n            windowWidth: 0,\r\n            theme: null,\r\n            // chat\r\n            isLoading: true,\r\n            selectedUser: null,\r\n            error: null,\r\n            // typing\r\n            typing: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // responsiveness\r\n        this.handleViewPortResize();\r\n        window.addEventListener('DOMContentLoaded onLoad', this.handleViewPortResize);\r\n        window.addEventListener('resize', this.handleViewPortResize);\r\n        this.setState({ toggleValue: true })\r\n\r\n        this.createSocketConnection();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.handleViewPortResize();\r\n        window.removeEventListener('DOMContentLoaded', this.handleViewPortResize);\r\n        window.removeEventListener('resize', this.handleViewPortResize);\r\n        window.removeEventListener('click', this.handleCloseSidebar);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.userId === null || prevProps.userId !== this.props.userId) {\r\n            this.createSocketConnection();\r\n        }\r\n    }\r\n\r\n    createSocketConnection = () => {\r\n        const { userId } = this.props;\r\n        if (userId) {\r\n            try {\r\n                ChatSocketServer.createSocketConnection(userId);\r\n\r\n                ChatSocketServer.receiveTypingMessage();\r\n                ChatSocketServer.eventEmitter.on('typing-message-response', this.addTypingUser)\r\n            } catch(err) {\r\n                this.setState({ error: err.message })\r\n            } finally {\r\n                this.setState({ isLoading: false })\r\n            }\r\n        }\r\n    }\r\n\r\n    handleViewPortResize = () => {\r\n        const width = window.innerWidth;\r\n        if (this.state.windowWidth !== width) {\r\n            if (width > 1200) {\r\n                this.setState({ isMobileViewPort: false })\r\n                window.removeEventListener('click', this.handleCloseSidebar)\r\n            } else {\r\n                this.setState({ isMobileViewPort: true, toggleValue: false })\r\n                // window.addEventListener('click', this.handleCloseSidebar)\r\n            }\r\n            this.setState({ windowWidth: width })\r\n        }\r\n    }\r\n\r\n    switchToggleValue = () => {\r\n        const newValue = !this.state.toggleValue;\r\n        this.setState({ toggleValue: newValue });\r\n        if (newValue) {\r\n            window.setTimeout(\r\n                () => window.addEventListener('click', this.handleCloseSidebar),\r\n                500\r\n            )\r\n        } else {\r\n            window.removeEventListener('click', this.handleCloseSidebar)\r\n        }\r\n    }\r\n\r\n    handleCloseSidebar = (e) => {\r\n        if (this.sidebarElem && this.sidebarElem.current) {\r\n            if (!this.sidebarElem.current.contains(e.target) && this.state.toggleValue) {\r\n                this.switchToggleValue();\r\n            }\r\n            window.removeEventListener('click', this.handleCloseSidebar)\r\n        }\r\n    }\r\n\r\n    updateSelectedUser = (user) => {\r\n        this.setState({ selectedUser: user });\r\n        this.switchToggleValue();\r\n    }\r\n\r\n    addTypingUser = ({ userId }) => {\r\n        if (this.state.typing[userId]) {\r\n            window.clearTimeout(this.state.typing[userId])\r\n        }\r\n        const newTyping = this.state.typing;\r\n        newTyping[userId] = window.setTimeout(() => this.typingTimeout(userId), 3000);\r\n        this.setState({ typing: newTyping })\r\n    }\r\n\r\n    typingTimeout(userId) {\r\n        if (this.state.typing[userId]) {\r\n            window.clearTimeout(this.state.typing[userId])\r\n            const newTyping = this.state.typing;\r\n            newTyping[userId] = null;\r\n            this.setState({ typing: newTyping })\r\n        }\r\n    }\r\n\r\n    renderNoUserSelectedUI = () => {\r\n        return (\r\n            <div className=\"no-chat-select-bx\">\r\n                <img src={ noUserSelected } alt=\"\" />\r\n                <h4>Select a Chat</h4>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        if (this.props.error || this.state.error) {\r\n            const { userId, token } = AuthHelper.getAuthValue();\r\n            const errorAction = {\r\n                onAction: () => this.props.error || this.state.error ? (\r\n                        this.props.checkUserToken(userId, token)\r\n                    ) : ( this.createSocketConnection() ),\r\n                templateImage: noWifi\r\n            }\r\n            return <ErrorFullPage err={this.props.error} { ...errorAction }  />\r\n        }\r\n        if (this.state.isLoading || this.props.isLoading) {\r\n            return <div style={{ height: \"100vh\" }}><SpinnerFullPage></SpinnerFullPage></div>\r\n        }\r\n        const responsiveKit = {\r\n            isMobileViewPort: this.state.isMobileViewPort,\r\n            toggleValue: this.state.toggleValue,\r\n            switchToggle: this.switchToggleValue\r\n        }\r\n        return (\r\n            <ThemeContext.Consumer>\r\n                {\r\n                    ({ theme }) => (\r\n                        <main className=\"home-page\">\r\n                            <ChatList sidebarRef={this.sidebarElem} typing={this.state.typing} updateSelectedUser={this.updateSelectedUser} { ...responsiveKit }></ChatList>\r\n                            <div className=\"chat-pane\">\r\n                                <div className=\"top-bar\" style={{ background: theme.backgroundColor, color: theme.textColor, fill: theme.textColor, boxShadow: `0 3px 5px ${theme.contrastColorFade}` }}>\r\n                                    { responsiveKit.isMobileViewPort ? <span className=\"toggle-bar\" onClick={responsiveKit.switchToggle}>{ leftCaret }</span> : <></> }\r\n                                    <div>\r\n                                        <span>{ this.state.selectedUser ? this.state.selectedUser.username : \"\" }</span>\r\n                                    </div>\r\n                                </div>\r\n                                <ChatRoom selectedUser={this.state.selectedUser} typing={this.state.typing} { ...responsiveKit } ></ChatRoom>\r\n                            </div>\r\n                        </main>\r\n                    )\r\n                }\r\n            </ThemeContext.Consumer>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    ({ auth }) => ({ userId: auth.userId, token: auth.token, error: auth.error, isLoading: auth.isLoading }),\r\n    (dispatch) => ({ checkUserToken: (userId, token) => dispatch(ChatHttpServer.checkToken(userId, token)) })\r\n)(Home);","module.exports = __webpack_public_path__ + \"static/media/select_a_user.b5aa3db6.svg\";"],"sourceRoot":""}